{% extends 'base.html' %}
{% block content %}

<div class="row">
    <div class="col s12">
        <div class="card">
            <div class="card-content black-text">
                <div class="row">
                    <div class="col s12 m7">
                        <span class="card-title">{{projects.title}}</span>
                        <p>
                            Project by {{projects.creator}}
                        </p>
                        <p>
                            {{projects.category}} | {{projects.experience}}
                        </p>

                        <hr>

                        <p>
                            {{projects.description}}
                        </p>
                    </div>

                    <div class="col s12 m5">
                        <img class="responsive-img" src="{{url_for('file', filename=projects['project_image_name'])}}"
                            alt="{{projects.project_image_name}}" width="400">
                    </div>
                </div>
            </div>

            {% if current_user.is_authenticated %}
            {% if current_user.username.username == projects.creator %}
            <div class="card-action">
                <a href="{{url_for('edit_projects', projects_id=projects._id)}}"
                    class="waves-effect waves-light btn-small blue darken-3">Edit</a>

                <a class="waves-effect waves-red btn-small red darken-3 modal-trigger" href="#delete">Delete
                    Project</a><br />
                <small>(Only you can see this, {{projects.creator}}!)</small>


                <div id="delete" class="modal">
                    <div class="modal-content center-align">
                        <h4>Are you sure you want to delete this? It cannot be restored!</h4>
                        <a href="{{url_for('delete_project', projects_id=projects._id)}}"
                            class="waves-effect waves-red btn btn-large red darken-3">DELETE</a>

                        <a class="modal-close waves-effect waves-green btn-large">Keep Project</a>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endif %}
        </div>
    </div>
</div>

{% for key, value in projects.steps.items() %}
<div class="row">
    <div class="col s12">
        <div class="card">
            <div class="card-content black-text">
                <span class="card-title">Step {{ loop.index }}</span>

                <p>{{value}}</p>
            </div>
        </div>
    </div>
</div>
{% endfor %}

{% endblock %}